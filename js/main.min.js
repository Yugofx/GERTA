var g={IS_MOBILE:document.body.clientWidth<768,IS_TABLET:document.body.clientWidth<1025&&document.body.clientWidth>=768,IS_DESKTOP:document.body.clientWidth>=1025,getDeviceType:()=>g.IS_MOBILE?"mobile":g.IS_TABLET?"tablet":"desktop",getSrc:e=>(function(t,n,r=1){return`photos/${e}/${g.getDeviceType()}/${n}/${t}/${r}.jpg`}),loadImagesOnTargetIntersection(e,t){const n=new IntersectionObserver(([r])=>{r.isIntersecting&&(n.unobserve(t),e.querySelectorAll("[data-src]").forEach(e=>{e.src=e.dataset.src}))});n.observe(t)},appendFromTemplate:(e,t)=>(t.appendChild(document.getElementById(e).content),t.lastElementChild),getDayType(){const e=(new Date).getHours();return e>=5&&e<=19?"day":"night"},appendBanner:()=>g.appendFromTemplate(`${g.getDayType()}-belt`,document.body),modal:(e=>{const t=e.querySelector(".modal-backdrop"),n=(e.querySelector(".modal-close"),e.querySelector(".modal-content"));let r=null,o=null;const a=()=>{r&&(n.removeChild(r),r=null,o=null)},l=t=>{r&&a(),t.modalData&&(o=JSON.parse(t.modalData)),(e=>{n.appendChild(document.getElementById(e).content.cloneNode(!0)),r=n.lastElementChild})(t.modal),e.classList.add("-up")},c=()=>{e.addEventListener("transitionend",a,{once:!0}),e.classList.remove("-up")},s=e=>e.addEventListener("click",l.bind(null,e.dataset),{passive:!0});return t.addEventListener("click",c),document.body.querySelectorAll("[data-modal]").forEach(e=>s(e)),{open:l,close:c,register:s,content:()=>n.lastElementChild,data:()=>o}})(document.body.querySelector(".modal-layer"))};(e=>{const t=g.IS_TABLET||g.IS_MOBILE?"works-gallery":"works-clients",n=g.appendFromTemplate(t,document.body.querySelector("section.works")),r=n.dataset.modal?n:n.querySelector("[data-modal]");r.addEventListener("click",e=>r.setAttribute("data-modal-data",e.target.dataset.modalData)),g.modal.register(r)})(),g.IS_DESKTOP&&new IntersectionObserver(([e])=>{const t=e.isIntersecting?"add":"remove";document.querySelector(".page-header").classList[t]("-clean")},{}).observe(document.querySelector(".main-layer .header-intersection-checkpoint")),(()=>{const e=g.IS_DESKTOP?g.appendBanner():document.querySelector(".contact-panel");let t=!0;new IntersectionObserver(([t])=>{t.isIntersecting&&t.boundingClientRect.top>0&&e.classList.add("-on"),!t.isIntersecting&&t.boundingClientRect.top>0&&e.classList.remove("-on")},{}).observe(document.querySelector(".reasons")),new IntersectionObserver(([n])=>{if(t)return t=!1;e.classList[n.isIntersecting?"remove":"add"]("-on")},{}).observe(document.querySelector(".page-footer"))})(),(()=>{const e=document.querySelector(".warranty .swiper-container");new Swiper(e,{navigation:{nextEl:e.querySelector(".swiper-button-next"),prevEl:e.querySelector(".swiper-button-prev")},autoHeight:!0})})(),(()=>{const e=e=>{[...e.parentNode.children].forEach(e=>e.classList.remove("-active")),e.classList.add("-active"),e.parentNode.previousElementSibling.firstElementChild.src=e.firstElementChild.dataset.src.replace(/preview/,g.getDeviceType())},t=document.querySelector(".testimonials .swiper-container");new Swiper(t,{navigation:{nextEl:t.querySelector(".swiper-button-next"),prevEl:t.querySelector(".swiper-button-prev")}});g.loadImagesOnTargetIntersection(t,document.querySelector(".catalog")),t.querySelectorAll(".swiper-slide").forEach(t=>e(t.querySelector(".thumb"))),t.addEventListener("click",t=>{t.target.classList.contains("thumb")&&e(t.target)})})(),(()=>{const e=e=>{t!==e&&(t&&t.classList.remove("-active"),(t=e).classList.add("-active"),o.redraw(t.dataset.style))};let t=null;const n=(e,t,n,r=null)=>`photos/catalog/${g.getDeviceType()}/${e}/${t}/${n}${r?`/${r}.jpg`:".jpg"}`,r=document.querySelector(".catalog .toolbar"),o=(e=>{const t={},r=["modern","classic","neoclassic","provance"],o=document.getElementById(g.IS_DESKTOP?"catalog-tiles":"catalog-gallery"),a=o.content.firstElementChild,l=a.querySelector("template");let c=null,s=null;e.appendChild(o.content),g.IS_DESKTOP||(s=new Swiper(a,{navigation:{nextEl:a.querySelector(".swiper-button-next"),prevEl:a.querySelector(".swiper-button-prev")}}));const i=(e=1)=>{const t=n(c,"preview",e),r=l.content.cloneNode(!0);r.querySelector("img").src=t,r.firstElementChild.setAttribute("data-modal-data",JSON.stringify({index:e,style:c})),s?s.appendSlide(r):l.parentNode.appendChild(r),e<gertaConfig.catalog.styles[c]&&i(e+1)},d=(e=document.createDocumentFragment(),t=r.pop(),o=1)=>{c!==t&&setTimeout(()=>{const l=n(t,"preview",o),c=a.querySelector("template").content.cloneNode(!0);c.querySelector("img").src=l,c.firstElementChild.setAttribute("data-modal-data",JSON.stringify({index:o,style:t})),e.appendChild(c),o<gertaConfig.catalog.styles[t]?d(e,t,o+1):r.length&&d()})},u=g.IS_DESKTOP?a:a.firstElementChild;return u.addEventListener("click",e=>{let t=e.target;for(;t!==u&&!t.dataset.modalData;)t=t.parentNode;u.setAttribute("data-modal-data",t.dataset.modalData)}),g.modal.register(u),{redraw:e=>{(()=>{if(!c)return;const e=document.createDocumentFragment();a.querySelectorAll(g.IS_DESKTOP?".item":".swiper-slide").forEach(t=>e.appendChild(t)),t[c]=e})(),c=e,e in t?g.IS_DESKTOP?a.appendChild(t[e]):[...t[e].children].forEach(e=>s.appendSlide(e)):i()},runDefferedRegistryFill:d}})(r.parentNode);e(r.firstElementChild.firstElementChild);const a=new IntersectionObserver(([e])=>{e.isIntersecting&&(a.unobserve(r),o.runDefferedRegistryFill())});a.observe(r),r.addEventListener("click",t=>{"BUTTON"===t.target.tagName&&e(t.target)})})();